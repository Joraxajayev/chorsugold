"use client"

import { createContext, useContext, useState, useEffect, type ReactNode } from "react"

export type Language = "en" | "uz" | "ru"

interface I18nContextType {
  language: Language
  setLanguage: (lang: Language) => void
  t: (key: string) => string
}

const translations = {
  en: {
    // Navigation
    "nav.dashboard": "Dashboard",
    "nav.customers": "Customers",
    "nav.orders": "Orders",
    "nav.returns": "Returns",
    "nav.inventory": "Inventory",
    "nav.models": "Models",
    "nav.reports": "Reports",
    "nav.analytics": "Analytics",
    "nav.notifications": "Notifications",
    "nav.settings": "Settings",
    "nav.main": "Main",
    "nav.business": "Business",
    "nav.system": "System",

    // Common
    "common.search": "Search",
    "common.add": "Add",
    "common.edit": "Edit",
    "common.delete": "Delete",
    "common.save": "Save",
    "common.cancel": "Cancel",
    "common.confirm": "Confirm",
    "common.loading": "Loading...",
    "common.actions": "Actions",
    "common.status": "Status",
    "common.date": "Date",
    "common.amount": "Amount",
    "common.total": "Total",
    "common.name": "Name",
    "common.phone": "Phone",
    "common.email": "Email",
    "common.notes": "Notes",
    "common.required": "Required",
    "common.optional": "Optional",
    "common.yes": "Yes",
    "common.no": "No",
    "common.view": "View",
    "common.export": "Export",
    "common.import": "Import",
    "common.print": "Print",
    "common.filter": "Filter",
    "common.all": "All",
    "common.active": "Active",
    "common.inactive": "Inactive",
    "common.pending": "Pending",
    "common.approved": "Approved",
    "common.rejected": "Rejected",
    "common.completed": "Completed",
    "common.delivered": "Delivered",

    // Dashboard
    "dashboard.title": "Dashboard",
    "dashboard.welcome": "Welcome back! Here's what's happening with your jewelry business today.",
    "dashboard.totalCustomers": "Total Customers",
    "dashboard.activeOrders": "Active Orders",
    "dashboard.inventoryValue": "Inventory Value",
    "dashboard.totalRevenue": "Total Revenue",
    "dashboard.recentActivity": "Recent Activity",
    "dashboard.quickActions": "Quick Actions & Alerts",
    "dashboard.inventoryComposition": "Inventory Composition",
    "dashboard.ordersOverview": "Orders Overview",
    "dashboard.lowStockAlert": "Low Stock Alert",
    "dashboard.itemsNeedRestocking": "items need restocking",
    "dashboard.ordersInProgress": "orders in progress",
    "dashboard.addCustomer": "Add Customer",
    "dashboard.newOrder": "New Order",
    "dashboard.addProduct": "Add Product",
    "dashboard.viewReports": "View Reports",

    // Customers
    "customers.title": "Customers",
    "customers.subtitle": "Manage your customer database and relationships",
    "customers.addCustomer": "Add Customer",
    "customers.totalCustomers": "Total Customers",
    "customers.vipCustomers": "VIP Customers",
    "customers.avgOrderValue": "Avg. Order Value",
    "customers.lifetimeValue": "Lifetime Value",
    "customers.searchPlaceholder": "Search customers...",
    "customers.filterByStatus": "Filter by status",
    "customers.customerDatabase": "Customer Database",
    "customers.fullName": "Full Name",
    "customers.birthday": "Birthday",
    "customers.totalOrders": "Total Orders",
    "customers.totalSpent": "Total Spent",
    "customers.lastOrder": "Last Order",
    "customers.joinDate": "Join Date",
    "customers.regular": "Regular",
    "customers.premium": "Premium",
    "customers.vip": "VIP",
    "customers.addNewCustomer": "Add New Customer",
    "customers.editCustomer": "Edit Customer",
    "customers.deleteCustomer": "Delete Customer",
    "customers.customerPreferences": "Customer preferences, allergies, etc.",

    // Orders
    "orders.title": "Orders & Project Management",
    "orders.totalOrders": "Total Orders",
    "orders.inProgress": "In Progress",
    "orders.completed": "Completed",
    "orders.totalValue": "Total Value",
    "orders.searchPlaceholder": "Search orders...",
    "orders.newOrder": "New Order",
    "orders.createNewOrder": "Create New Order",
    "orders.customer": "Customer",
    "orders.product": "Product/Service",
    "orders.description": "Description",
    "orders.craftsman": "Craftsman",
    "orders.priority": "Priority",
    "orders.orderDate": "Order Date",
    "orders.dueDate": "Due Date",
    "orders.orderReceived": "Order Received",
    "orders.low": "Low",
    "orders.medium": "Medium",
    "orders.high": "High",
    "orders.urgent": "Urgent",

    // Returns
    "returns.title": "Returns Management",
    "returns.subtitle": "Process and track product returns and exchanges",
    "returns.newReturn": "New Return",
    "returns.totalReturns": "Total Returns",
    "returns.pendingReturns": "Pending Returns",
    "returns.approvedReturns": "Approved Returns",
    "returns.totalRefunds": "Total Refunds",
    "returns.searchPlaceholder": "Search returns...",
    "returns.returnsDatabase": "Returns Database",
    "returns.returnNumber": "Return #",
    "returns.order": "Order",
    "returns.reason": "Reason",
    "returns.refundAmount": "Refund Amount",
    "returns.createNewReturn": "Create New Return",
    "returns.orderNumber": "Order Number",
    "returns.returnReason": "Return Reason",
    "returns.returnDate": "Return Date",
    "returns.itemCondition": "Item Condition",
    "returns.defectiveProduct": "Defective product",
    "returns.wrongSize": "Wrong size",
    "returns.notAsDescribed": "Not as described",
    "returns.customerChangedMind": "Customer changed mind",
    "returns.damagedDuringShipping": "Damaged during shipping",
    "returns.qualityIssues": "Quality issues",
    "returns.other": "Other",
    "returns.new": "New",
    "returns.good": "Good",
    "returns.fair": "Fair",
    "returns.poor": "Poor",
    "returns.approve": "Approve",
    "returns.reject": "Reject",
    "returns.refund": "Refund",
    "returns.exchange": "Exchange",
    "returns.refunded": "Refunded",
    "returns.exchanged": "Exchanged",

    // Inventory
    "inventory.title": "Inventory Management",
    "inventory.totalItems": "Total Items",
    "inventory.totalValue": "Total Value",
    "inventory.lowStockAlerts": "Low Stock Alerts",
    "inventory.avgMargin": "Avg. Margin",
    "inventory.searchPlaceholder": "Search inventory...",
    "inventory.addProduct": "Add Product",
    "inventory.productInventory": "Product Inventory",
    "inventory.productName": "Product Name",
    "inventory.sku": "SKU",
    "inventory.category": "Category",
    "inventory.material": "Material",
    "inventory.weight": "Weight",
    "inventory.quantity": "Quantity",
    "inventory.minStock": "Min Stock",
    "inventory.costPrice": "Cost Price",
    "inventory.sellingPrice": "Selling Price",
    "inventory.margin": "Margin",
    "inventory.stock": "Stock",
    "inventory.inStock": "In Stock",
    "inventory.lowStock": "Low Stock",
    "inventory.outOfStock": "Out of Stock",
    "inventory.rings": "Rings",
    "inventory.necklaces": "Necklaces",
    "inventory.bracelets": "Bracelets",
    "inventory.earrings": "Earrings",

    // Models
    "models.title": "General Base",
    "models.subtitle": "Umumiy baza",
    "models.allWeight": "All weight",
    "models.allPlus": "All plus",
    "models.codePlaceholder": "code...",
    "models.addModel": "Add Model",
    "models.addNewModel": "Add New Model",
    "models.modelName": "Model Name",
    "models.modelBase": "Model Base",
    "models.weight": "Weight",
    "models.price": "Price",
    "models.base": "Base",
    "models.masterWeight": "Master Weight",
    "models.deleteModel": "Delete Model",

    // Notifications
    "notifications.title": "Notifications",
    "notifications.clearAll": "Clear all",
    "notifications.noNotifications": "No notifications",
    "notifications.newOrderReceived": "New order received",
    "notifications.lowStockAlert": "Low stock alert",
    "notifications.newCustomerAdded": "New customer added",
    "notifications.newReturnRequest": "New return request",

    // Settings
    "settings.title": "Settings",
    "settings.language": "Language",
    "settings.english": "English",
    "settings.uzbek": "Uzbek",
    "settings.theme": "Theme",
    "settings.lightMode": "Light Mode",
    "settings.darkMode": "Dark Mode",

    // Messages
    "messages.customerAdded": "Customer Added",
    "messages.customerUpdated": "Customer Updated",
    "messages.customerDeleted": "Customer Deleted",
    "messages.orderCreated": "Order Created",
    "messages.orderUpdated": "Order Updated",
    "messages.returnCreated": "Return Created",
    "messages.returnUpdated": "Return Updated",
    "messages.validationError": "Validation Error",
    "messages.fillRequiredFields": "Please fill in all required fields",
    "messages.exportComplete": "Export Complete",
    "messages.systemOnline": "System Online",

    // Company
    "company.name": "Chorsu Gold",
    "company.subtitle": "Professional Jewelry",
  },
  uz: {
    // Navigation
    "nav.dashboard": "Boshqaruv paneli",
    "nav.customers": "Mijozlar",
    "nav.orders": "Buyurtmalar",
    "nav.returns": "Qaytarishlar",
    "nav.inventory": "Ombor",
    "nav.models": "Modellar",
    "nav.reports": "Hisobotlar",
    "nav.analytics": "Tahlil",
    "nav.notifications": "Bildirishnomalar",
    "nav.settings": "Sozlamalar",
    "nav.main": "Asosiy",
    "nav.business": "Biznes",
    "nav.system": "Tizim",

    // Common
    "common.search": "Qidirish",
    "common.add": "Qo'shish",
    "common.edit": "Tahrirlash",
    "common.delete": "O'chirish",
    "common.save": "Saqlash",
    "common.cancel": "Bekor qilish",
    "common.confirm": "Tasdiqlash",
    "common.loading": "Yuklanmoqda...",
    "common.actions": "Amallar",
    "common.status": "Holat",
    "common.date": "Sana",
    "common.amount": "Miqdor",
    "common.total": "Jami",
    "common.name": "Ism",
    "common.phone": "Telefon",
    "common.email": "Email",
    "common.notes": "Izohlar",
    "common.required": "Majburiy",
    "common.optional": "Ixtiyoriy",
    "common.yes": "Ha",
    "common.no": "Yo'q",
    "common.view": "Ko'rish",
    "common.export": "Eksport",
    "common.import": "Import",
    "common.print": "Chop etish",
    "common.filter": "Filtr",
    "common.all": "Barchasi",
    "common.active": "Faol",
    "common.inactive": "Nofaol",
    "common.pending": "Kutilmoqda",
    "common.approved": "Tasdiqlangan",
    "common.rejected": "Rad etilgan",
    "common.completed": "Tugallangan",
    "common.delivered": "Yetkazilgan",

    // Dashboard
    "dashboard.title": "Boshqaruv paneli",
    "dashboard.welcome": "Xush kelibsiz! Bugun sizning zargarlik biznesingizda nima bo'layotgani haqida ma'lumot.",
    "dashboard.totalCustomers": "Jami mijozlar",
    "dashboard.activeOrders": "Faol buyurtmalar",
    "dashboard.inventoryValue": "Ombor qiymati",
    "dashboard.totalRevenue": "Jami daromad",
    "dashboard.recentActivity": "So'nggi faoliyat",
    "dashboard.quickActions": "Tezkor amallar va ogohlantirishlar",
    "dashboard.inventoryComposition": "Ombor tarkibi",
    "dashboard.ordersOverview": "Buyurtmalar ko'rinishi",
    "dashboard.lowStockAlert": "Kam qoldiq ogohlantirishi",
    "dashboard.itemsNeedRestocking": "mahsulotlar to'ldirishni talab qiladi",
    "dashboard.ordersInProgress": "jarayondagi buyurtmalar",
    "dashboard.addCustomer": "Mijoz qo'shish",
    "dashboard.newOrder": "Yangi buyurtma",
    "dashboard.addProduct": "Mahsulot qo'shish",
    "dashboard.viewReports": "Hisobotlarni ko'rish",

    // Customers
    "customers.title": "Mijozlar",
    "customers.subtitle": "Mijozlar bazasi va munosabatlarni boshqaring",
    "customers.addCustomer": "Mijoz qo'shish",
    "customers.totalCustomers": "Jami mijozlar",
    "customers.vipCustomers": "VIP mijozlar",
    "customers.avgOrderValue": "O'rtacha buyurtma qiymati",
    "customers.lifetimeValue": "Umrbod qiymat",
    "customers.searchPlaceholder": "Mijozlarni qidiring...",
    "customers.filterByStatus": "Holat bo'yicha filtr",
    "customers.customerDatabase": "Mijozlar bazasi",
    "customers.fullName": "To'liq ism",
    "customers.birthday": "Tug'ilgan kun",
    "customers.totalOrders": "Jami buyurtmalar",
    "customers.totalSpent": "Jami sarflangan",
    "customers.lastOrder": "Oxirgi buyurtma",
    "customers.joinDate": "Qo'shilgan sana",
    "customers.regular": "Oddiy",
    "customers.premium": "Premium",
    "customers.vip": "VIP",
    "customers.addNewCustomer": "Yangi mijoz qo'shish",
    "customers.editCustomer": "Mijozni tahrirlash",
    "customers.deleteCustomer": "Mijozni o'chirish",
    "customers.customerPreferences": "Mijoz afzalliklari, allergiyalar va boshqalar",

    // Orders
    "orders.title": "Buyurtmalar va loyiha boshqaruvi",
    "orders.totalOrders": "Jami buyurtmalar",
    "orders.inProgress": "Jarayonda",
    "orders.completed": "Tugallangan",
    "orders.totalValue": "Jami qiymat",
    "orders.searchPlaceholder": "Buyurtmalarni qidiring...",
    "orders.newOrder": "Yangi buyurtma",
    "orders.createNewOrder": "Yangi buyurtma yaratish",
    "orders.customer": "Mijoz",
    "orders.product": "Mahsulot/Xizmat",
    "orders.description": "Tavsif",
    "orders.craftsman": "Hunarmand",
    "orders.priority": "Muhimlik",
    "orders.orderDate": "Buyurtma sanasi",
    "orders.dueDate": "Tugash sanasi",
    "orders.orderReceived": "Buyurtma qabul qilindi",
    "orders.low": "Past",
    "orders.medium": "O'rta",
    "orders.high": "Yuqori",
    "orders.urgent": "Shoshilinch",

    // Returns
    "returns.title": "Qaytarishlar boshqaruvi",
    "returns.subtitle": "Mahsulot qaytarish va almashtirishni kuzatish",
    "returns.newReturn": "Yangi qaytarish",
    "returns.totalReturns": "Jami qaytarishlar",
    "returns.pendingReturns": "Kutilayotgan qaytarishlar",
    "returns.approvedReturns": "Tasdiqlangan qaytarishlar",
    "returns.totalRefunds": "Jami qaytarilgan pul",
    "returns.searchPlaceholder": "Qaytarishlarni qidiring...",
    "returns.returnsDatabase": "Qaytarishlar bazasi",
    "returns.returnNumber": "Qaytarish №",
    "returns.order": "Buyurtma",
    "returns.reason": "Sabab",
    "returns.refundAmount": "Qaytariladigan summa",
    "returns.createNewReturn": "Yangi qaytarish yaratish",
    "returns.orderNumber": "Buyurtma raqami",
    "returns.returnReason": "Qaytarish sababi",
    "returns.returnDate": "Qaytarish sanasi",
    "returns.itemCondition": "Mahsulot holati",
    "returns.defectiveProduct": "Nuqsonli mahsulot",
    "returns.wrongSize": "Noto'g'ri o'lcham",
    "returns.notAsDescribed": "Tavsifga mos emas",
    "returns.customerChangedMind": "Mijoz fikrini o'zgartirdi",
    "returns.damagedDuringShipping": "Yetkazish vaqtida shikastlangan",
    "returns.qualityIssues": "Sifat muammolari",
    "returns.other": "Boshqa",
    "returns.new": "Yangi",
    "returns.good": "Yaxshi",
    "returns.fair": "O'rtacha",
    "returns.poor": "Yomon",
    "returns.approve": "Tasdiqlash",
    "returns.reject": "Rad etish",
    "returns.refund": "Pul qaytarish",
    "returns.exchange": "Almashtirish",
    "returns.refunded": "Pul qaytarildi",
    "returns.exchanged": "Almashtirildi",

    // Inventory
    "inventory.title": "Ombor boshqaruvi",
    "inventory.totalItems": "Jami mahsulotlar",
    "inventory.totalValue": "Jami qiymat",
    "inventory.lowStockAlerts": "Kam qoldiq ogohlantirishlari",
    "inventory.avgMargin": "O'rtacha foyda",
    "inventory.searchPlaceholder": "Omborni qidiring...",
    "inventory.addProduct": "Mahsulot qo'shish",
    "inventory.productInventory": "Mahsulot ombori",
    "inventory.productName": "Mahsulot nomi",
    "inventory.sku": "SKU",
    "inventory.category": "Kategoriya",
    "inventory.material": "Material",
    "inventory.weight": "Og'irlik",
    "inventory.quantity": "Miqdor",
    "inventory.minStock": "Minimal qoldiq",
    "inventory.costPrice": "Tan narx",
    "inventory.sellingPrice": "Sotuv narxi",
    "inventory.margin": "Foyda",
    "inventory.stock": "Qoldiq",
    "inventory.inStock": "Omborda bor",
    "inventory.lowStock": "Kam qoldiq",
    "inventory.outOfStock": "Tugagan",
    "inventory.rings": "Uzuklar",
    "inventory.necklaces": "Marjonlar",
    "inventory.bracelets": "Bilaguzuklar",
    "inventory.earrings": "Sirg'alar",

    // Models
    "models.title": "Umumiy baza",
    "models.subtitle": "Umumiy baza",
    "models.allWeight": "Barcha og'irlik",
    "models.allPlus": "Barcha qo'shimcha",
    "models.codePlaceholder": "kod...",
    "models.addModel": "Model qo'shish",
    "models.addNewModel": "Yangi model qo'shish",
    "models.modelName": "Model nomi",
    "models.modelBase": "Model bazasi",
    "models.weight": "Og'irlik",
    "models.price": "Narx",
    "models.base": "Baza",
    "models.masterWeight": "Ustidagi molda",
    "models.deleteModel": "Modelni o'chirish",

    // Notifications
    "notifications.title": "Bildirishnomalar",
    "notifications.clearAll": "Barchasini tozalash",
    "notifications.noNotifications": "Bildirishnomalar yo'q",
    "notifications.newOrderReceived": "Yangi buyurtma qabul qilindi",
    "notifications.lowStockAlert": "Kam qoldiq ogohlantirishi",
    "notifications.newCustomerAdded": "Yangi mijoz qo'shildi",
    "notifications.newReturnRequest": "Yangi qaytarish so'rovi",

    // Settings
    "settings.title": "Sozlamalar",
    "settings.language": "Til",
    "settings.english": "Inglizcha",
    "settings.uzbek": "O'zbekcha",
    "settings.theme": "Mavzu",
    "settings.lightMode": "Yorug' rejim",
    "settings.darkMode": "Qorong'u rejim",

    // Messages
    "messages.customerAdded": "Mijoz qo'shildi",
    "messages.customerUpdated": "Mijoz yangilandi",
    "messages.customerDeleted": "Mijoz o'chirildi",
    "messages.orderCreated": "Buyurtma yaratildi",
    "messages.orderUpdated": "Buyurtma yangilandi",
    "messages.returnCreated": "Qaytarish yaratildi",
    "messages.returnUpdated": "Qaytarish yangilandi",
    "messages.validationError": "Tekshirish xatosi",
    "messages.fillRequiredFields": "Iltimos, barcha majburiy maydonlarni to'ldiring",
    "messages.exportComplete": "Eksport tugallandi",
    "messages.systemOnline": "Tizim ishlaydi",

    // Company
    "company.name": "Chorsu Gold",
    "company.subtitle": "Professional Jewelry",
  },
  ru: {
    // Navigation
    "nav.dashboard": "Панель управления",
    "nav.customers": "Клиенты",
    "nav.orders": "Заказы",
    "nav.returns": "Возвраты",
    "nav.inventory": "Инвентарь",
    "nav.models": "Модели",
    "nav.reports": "Отчёты",
    "nav.analytics": "Аналитика",
    "nav.notifications": "Уведомления",
    "nav.settings": "Настройки",
    "nav.main": "Главное",
    "nav.business": "Бизнес",
    "nav.system": "Система",
  
    // Common
    "common.search": "Поиск",
    "common.add": "Добавить",
    "common.edit": "Редактировать",
    "common.delete": "Удалить",
    "common.save": "Сохранить",
    "common.cancel": "Отмена",
    "common.confirm": "Подтвердить",
    "common.loading": "Загрузка...",
    "common.actions": "Действия",
    "common.status": "Статус",
    "common.date": "Дата",
    "common.amount": "Сумма",
    "common.total": "Итого",
    "common.name": "Имя",
    "common.phone": "Телефон",
    "common.email": "Эл. почта",
    "common.notes": "Заметки",
    "common.required": "Обязательно",
    "common.optional": "Необязательно",
    "common.yes": "Да",
    "common.no": "Нет",
    "common.view": "Просмотр",
    "common.export": "Экспорт",
    "common.import": "Импорт",
    "common.print": "Печать",
    "common.filter": "Фильтр",
    "common.all": "Все",
    "common.active": "Активные",
    "common.inactive": "Неактивные",
    "common.pending": "В ожидании",
    "common.approved": "Одобренные",
    "common.rejected": "Отклонённые",
    "common.completed": "Завершённые",
    "common.delivered": "Доставленные",
  
    // Dashboard
    "dashboard.title": "Панель управления",
    "dashboard.welcome": "Добро пожаловать! Вот что происходит в вашем ювелирном бизнесе сегодня.",
    "dashboard.totalCustomers": "Всего клиентов",
    "dashboard.activeOrders": "Активные заказы",
    "dashboard.inventoryValue": "Стоимость инвентаря",
    "dashboard.totalRevenue": "Общая выручка",
    "dashboard.recentActivity": "Последние действия",
    "dashboard.quickActions": "Быстрые действия и уведомления",
    "dashboard.inventoryComposition": "Состав инвентаря",
    "dashboard.ordersOverview": "Обзор заказов",
    "dashboard.lowStockAlert": "Оповещение о низком запасе",
    "dashboard.itemsNeedRestocking": "товаров требуют пополнения",
    "dashboard.ordersInProgress": "заказы в процессе",
    "dashboard.addCustomer": "Добавить клиента",
    "dashboard.newOrder": "Новый заказ",
    "dashboard.addProduct": "Добавить продукт",
    "dashboard.viewReports": "Просмотреть отчёты",
  
    // Customers
    "customers.title": "Клиенты",
    "customers.subtitle": "Управление базой клиентов и отношениями",
    "customers.addCustomer": "Добавить клиента",
    "customers.totalCustomers": "Всего клиентов",
    "customers.vipCustomers": "VIP-клиенты",
    "customers.avgOrderValue": "Средний чек",
    "customers.lifetimeValue": "Пожизненная ценность",
    "customers.searchPlaceholder": "Поиск клиентов...",
    "customers.filterByStatus": "Фильтр по статусу",
    "customers.customerDatabase": "База клиентов",
    "customers.fullName": "Полное имя",
    "customers.birthday": "Дата рождения",
    "customers.totalOrders": "Всего заказов",
    "customers.totalSpent": "Потрачено всего",
    "customers.lastOrder": "Последний заказ",
    "customers.joinDate": "Дата регистрации",
    "customers.regular": "Обычный",
    "customers.premium": "Премиум",
    "customers.vip": "VIP",
    "customers.addNewCustomer": "Добавить нового клиента",
    "customers.editCustomer": "Редактировать клиента",
    "customers.deleteCustomer": "Удалить клиента",
    "customers.customerPreferences": "Предпочтения клиента, аллергии и т.д.",
  
    // Orders
    "orders.title": "Управление заказами и проектами",
    "orders.totalOrders": "Всего заказов",
    "orders.inProgress": "В процессе",
    "orders.completed": "Завершённые",
    "orders.totalValue": "Общая сумма",
    "orders.searchPlaceholder": "Поиск заказов...",
    "orders.newOrder": "Новый заказ",
    "orders.createNewOrder": "Создать новый заказ",
    "orders.customer": "Клиент",
    "orders.product": "Продукт/Услуга",
    "orders.description": "Описание",
    "orders.craftsman": "Мастер",
    "orders.priority": "Приоритет",
    "orders.orderDate": "Дата заказа",
    "orders.dueDate": "Срок выполнения",
    "orders.orderReceived": "Заказ получен",
    "orders.low": "Низкий",
    "orders.medium": "Средний",
    "orders.high": "Высокий",
    "orders.urgent": "Срочно",
  
    // Returns
    "returns.title": "Управление возвратами",
    "returns.subtitle": "Обработка и отслеживание возвратов и обменов",
    "returns.newReturn": "Новый возврат",
    "returns.totalReturns": "Всего возвратов",
    "returns.pendingReturns": "Ожидающие возвраты",
    "returns.approvedReturns": "Одобренные возвраты",
    "returns.totalRefunds": "Итого возвратов средств",
    "returns.searchPlaceholder": "Поиск возвратов...",
    "returns.returnsDatabase": "База возвратов",
    "returns.returnNumber": "№ возврата",
    "returns.order": "Заказ",
    "returns.reason": "Причина",
    "returns.refundAmount": "Сумма возврата",
    "returns.createNewReturn": "Создать новый возврат",
    "returns.orderNumber": "Номер заказа",
    "returns.returnReason": "Причина возврата",
    "returns.returnDate": "Дата возврата",
    "returns.itemCondition": "Состояние товара",
    "returns.defectiveProduct": "Брак",
    "returns.wrongSize": "Неправильный размер",
    "returns.notAsDescribed": "Не соответствует описанию",
    "returns.customerChangedMind": "Клиент передумал",
    "returns.damagedDuringShipping": "Повреждён при доставке",
    "returns.qualityIssues": "Проблемы с качеством",
    "returns.other": "Другое",
    "returns.new": "Новый",
    "returns.good": "Хорошее",
    "returns.fair": "Удовл.",
    "returns.poor": "Плохое",
    "returns.approve": "Одобрить",
    "returns.reject": "Отклонить",
    "returns.refund": "Возврат",
    "returns.exchange": "Обмен",
    "returns.refunded": "Возвращено",
    "returns.exchanged": "Обменено",
  
    // Inventory
    "inventory.title": "Управление инвентарём",
    "inventory.totalItems": "Всего позиций",
    "inventory.totalValue": "Общая стоимость",
    "inventory.lowStockAlerts": "Оповещения о низком запасе",
    "inventory.avgMargin": "Средняя маржа",
    "inventory.searchPlaceholder": "Поиск в инвентаре...",
    "inventory.addProduct": "Добавить продукт",
    "inventory.productInventory": "Инвентарь продуктов",
    "inventory.productName": "Название продукта",
    "inventory.sku": "Артикул",
    "inventory.category": "Категория",
    "inventory.material": "Материал",
    "inventory.weight": "Вес",
    "inventory.quantity": "Количество",
    "inventory.minStock": "Мин. запас",
    "inventory.costPrice": "Себестоимость",
    "inventory.sellingPrice": "Цена продажи",
    "inventory.margin": "Маржа",
    "inventory.stock": "Запас",
    "inventory.inStock": "В наличии",
    "inventory.lowStock": "Низкий запас",
    "inventory.outOfStock": "Нет в наличии",
    "inventory.rings": "Кольца",
    "inventory.necklaces": "Ожерелья",
    "inventory.bracelets": "Браслеты",
    "inventory.earrings": "Серьги",
  
    // Models
    "models.title": "Общая база",
    "models.subtitle": "Общая база",
    "models.allWeight": "Общий вес",
    "models.allPlus": "Всего плюс",
    "models.codePlaceholder": "код...",
    "models.addModel": "Добавить модель",
    "models.addNewModel": "Добавить новую модель",
    "models.modelName": "Название модели",
    "models.modelBase": "Основа модели",
    "models.weight": "Вес",
    "models.price": "Цена",
    "models.base": "Основа",
    "models.masterWeight": "Вес мастера",
    "models.deleteModel": "Удалить модель",
  
    // Notifications
    "notifications.title": "Уведомления",
    "notifications.clearAll": "Очистить всё",
    "notifications.noNotifications": "Нет уведомлений",
    "notifications.newOrderReceived": "Новый заказ получен",
    "notifications.lowStockAlert": "Оповещение о низком запасе",
    "notifications.newCustomerAdded": "Добавлен новый клиент",
    "notifications.newReturnRequest": "Новый запрос на возврат",
  
    // Settings
    "settings.title": "Настройки",
    "settings.language": "Язык",
    "settings.english": "Английский",
    "settings.uzbek": "Узбекский",
    "settings.theme": "Тема",
    "settings.lightMode": "Светлая тема",
    "settings.darkMode": "Тёмная тема",
  
    // Messages
    "messages.customerAdded": "Клиент добавлен",
    "messages.customerUpdated": "Данные клиента обновлены",
    "messages.customerDeleted": "Клиент удалён",
    "messages.orderCreated": "Заказ создан",
    "messages.orderUpdated": "Заказ обновлён",
    "messages.returnCreated": "Возврат создан",
    "messages.returnUpdated": "Возврат обновлён",
    "messages.validationError": "Ошибка валидации",
    "messages.fillRequiredFields": "Пожалуйста, заполните все обязательные поля",
    "messages.exportComplete": "Экспорт завершён",
    "messages.systemOnline": "Система в сети",
  
    // Company
    "company.name": "Jewelry CRM",
    "company.subtitle": "Профессиональное издание"
  }
  
}

const I18nContext = createContext<I18nContextType | null>(null)

export function I18nProvider({ children }: { children: ReactNode }) {
  const [language, setLanguage] = useState<Language>("en")

  // Load language from localStorage on mount
  useEffect(() => {
    const savedLanguage = localStorage.getItem("language") as Language
    if (savedLanguage && (savedLanguage === "en" || savedLanguage === "uz" || savedLanguage === "ru")) {
      setLanguage(savedLanguage)
    }
  }, [])

  // Save language to localStorage when changed
  useEffect(() => {
    localStorage.setItem("language", language)
    // Set document direction for RTL languages if needed
    document.documentElement.setAttribute("lang", language)
    document.documentElement.setAttribute("dir", language === "uz" ? "ltr" : "ltr") // Both are LTR
  }, [language])

  const t = (key: string): string => {
    return translations[language][key as keyof (typeof translations)[typeof language]] || key
  }

  return <I18nContext.Provider value={{ language, setLanguage, t }}>{children}</I18nContext.Provider>
}

export function useI18n() {
  const context = useContext(I18nContext)
  if (!context) {
    throw new Error("useI18n must be used within an I18nProvider")
  }
  return context
}
